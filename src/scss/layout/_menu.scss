@use "base/variables" as v;
@use "base/mixins" as m;
@use 'sass:color';

.menu {
    position: absolute;
    top: 11rem;
    right: 0;
    width: 20rem;
    padding: 1.5rem;
    border-radius: 1.2rem;
    z-index: 110;
    color: v.$blanco;
    overflow: hidden;
    max-height: 0;
    opacity: 0;
    transform: translateY(-10px);
    transition: max-height 0.4s ease, opacity 0.3s ease, transform 0.3s ease;
    pointer-events: none;

    @include m.glass-effect(v.$glass-bg-dark, v.$glass-border, v.$glass-shadow);

    ul {
        list-style: none;
        padding: 0;
        margin: 0;

        li {
            margin: 0.8rem 0;

            a {
                color: v.$blanco;
                font-weight: v.$regular;
                text-decoration: none;
                padding: 0.8rem 1rem;
                display: block;
                border-radius: 0.6rem;
                font-size: 1.4rem;
                letter-spacing: 0.03rem;
                transition: background-color 0.25s ease, transform 0.15s ease;

                &:hover {
                    background-color: rgba(255, 255, 255, 0.15);
                    transform: translateX(4px);
                }
            }

            &:last-child a {
                color: v.$rojo;
                font-weight: v.$bold;

                &:hover {
                    background-color: rgba(255, 0, 0, 0.15);
                }
            }
        }
    }

    &.show-menu {
        max-height: 17rem;
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
    }

    a.activo {
        background-color: rgba(255, 255, 255, 0.15);
        // color: color.adjust(v.$dorado, $lightness: -5%);
        font-weight: v.$bold;
    }
}

#menu-admin {
    &.show-menu {
        max-height: 29rem;
        opacity: 1;
        transform: translateY(0);
        pointer-events: auto;
    }
}

// ----------------------------------------------------------------------
// Estilos específicos para el área de invitado (Botón "Iniciar Sesión")
// ----------------------------------------------------------------------
.menu-guest {
    display: flex;
    align-items: center;

    .boton-nav {
        // --- EFECTO GLASS RESTAURADO ---
        // Fondo blanco muy sutil (10% opacidad)
        background-color: rgba(255, 255, 255, 0.1); 
        // El desenfoque detrás del botón (clave del efecto glass)
        backdrop-filter: blur(5px);
        
        // COLOR: Usamos negro sólido para el texto (imprescindible en fondo claro)
        color: v.$dorado; 
        
        // BORDE: Negro semitransparente (0.3) para que parezca cristal ahumado fino
        border: 1px solid v.$dorado; 
        
        // Diseño
        padding: 0.8rem 2.5rem;
        border-radius: 5rem; 
        text-decoration: none;
        font-size: 1.6rem;
        font-weight: v.$bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        
        transition: all 0.3s ease;

        &:hover {
            // AL PASAR EL MOUSE: Se vuelve sólido oscuro
            background-color: v.$dorado;
            color: v.$blanco; 
            border-color: v.$dorado;
            
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); // Sombra más pronunciada
            cursor: pointer;
        }
    }
}